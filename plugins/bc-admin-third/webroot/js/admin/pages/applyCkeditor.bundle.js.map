{"version":3,"file":"admin/pages/applyCkeditor.bundle.js","mappings":"AAAAA,OAAOC,iBAAiB,oBAAoB,WAExCC,cAAgBC,SAASD,eACzBE,eAAiBC,QAAQD,gBACzBE,sBAAwBD,QAAQC,uBAChCC,mBAAqBF,QAAQE,oBAC7BC,qBAAuBH,QAAQG,sBAC/B,IAAKC,GAAa,EACbC,GAAkB,EACvBC,GAAE,WACOF,IACDG,SAASC,aAAa,WAAYC,cAClCL,GAAa,IAEZC,GAAmBK,cACpBA,YAAYC,iBAAiBC,KAAI,SAACC,EAAQC,GAAT,OAAiBP,SAASC,aAAaM,EAAKD,MAC7ER,GAAkB,GAElBU,YACAR,SAASS,OAAOC,gBAAkB,CAACF,YAEvCR,SAASS,OAAOE,gBAAiB,EACjCX,SAASS,OAAOG,aAAe,sBAC/BZ,SAASS,OAAOI,sBAAwBT,gBACxCJ,SAASS,OAAOK,gBAAgBC,KAAM,mBAEtCf,SAASgB,IAAIC,aAAb,GAAiC,EAEjCjB,SAASgB,IAAIC,aAAb,MAAoC,EAChC3B,gBACAU,SAASS,OAAOS,UAAYlB,SAASmB,UAGE,iBAAhCnB,SAASS,OAAOW,cACvBpB,SAASS,OAAOW,YAAc,CAACpB,SAASS,OAAOW,cAEnDC,iBAAiBhB,KAAI,SAACiB,GACdC,MAAMC,QAAQxB,SAASS,OAAOW,cAC9BpB,SAASS,OAAOW,YAAYL,KAAKO,MAGzCtB,SAASyB,eAAiBzB,SAAS0B,QAAQC,YAAaC,eACxD5B,SAASyB,eAAeI,GAAG,iBAAiB,SAASC,GAC7CtC,iBACIuC,cACA/B,SAASyB,eAAeO,iBAAmBD,aAE3CE,gBACAjC,SAASyB,eAAeS,mBAAqBD,eAE7CvC,wBACAM,SAASyB,eAAeU,sBAAuB,OAIvD3C,gBACAQ,SAASyB,eAAeI,GAAG,iBAAiB,SAASC,GAC7CnC,qBACAK,SAASyB,eAAeW,YAAY,iBACpCpC,SAASyB,eAAeW,YAAY,iBAEpCxC,uBACAI,SAASyB,eAAeW,YAAY,eACpCpC,SAASyB,eAAeW,YAAY,mBAExCpC,SAASyB,eAAeI,GAAG,qBAAqB,SAAUQ,GAClC,kBAAjBA,EAAGC,KAAKC,MAA6C,gBAAjBF,EAAGC,KAAKC,KAC3CxC,EAAE,aAAD,OAAcyC,gBAAiBC,IAAI,WACb,gBAAjBJ,EAAGC,KAAKC,MAA2C,cAAjBF,EAAGC,KAAKC,MAChDxC,EAAE,aAAD,OAAcyC,gBAAiBC,IAAI,eAKpDzC,SAASyB,eAAeI,GAAG,iBAAiB,SAASC,GAAO,WACrD9B,SAASyB,eAAeiB,WAAW,YAAYC,QAAQC,OAAS,GAE/D5C,SAASyB,eAAeiB,WAAW,YAAYb,GAAI,SACnD,SAACgB,GACoB,GAAd,EAAKC,MACJ/C,EAAE,YAAYgD,OAEdhD,EAAE,YAAYiD","sources":["webpack://bc-admin-third/./webroot/js/src/admin/pages/applyCkeditor.js"],"sourcesContent":["window.addEventListener('DOMContentLoaded', function() {\n    // すでにvar宣言されている変数をjavascript用に変換\n    editorEnterBr = parseInt(editorEnterBr);\n    editorUseDraft = Boolean(editorUseDraft);\n    editorReadonlyPublish = Boolean(editorReadonlyPublish);\n    editorDisableDraft = Boolean(editorDisableDraft);\n    editorDisablePublish = Boolean(editorDisablePublish);\n    var  initStatus = false;\n    var  styleInitStatus = false;\n    $(function() {\n        if (!initStatus) {\n            CKEDITOR.addStylesSet('basercms', initialStyle);\n            initStatus = true;\n        }\n        if (!styleInitStatus && editorStyle) {\n            editorStyle[editorStylesSet].map((editor, key) => CKEDITOR.addStylesSet(key, editor));\n            styleInitStatus = true;\n        }\n        if (editorUrl) {\n            CKEDITOR.config.templates_files = [editorUrl];\n        }\n        CKEDITOR.config.allowedContent = true;\n        CKEDITOR.config.extraPlugins = 'draft,showprotected';\n        CKEDITOR.config.stylesCombo_stylesSet = editorStylesSet;\n        CKEDITOR.config.protectedSource.push( /<\\?[\\s\\S]*?\\?>/g );\n        // 空「i」タグを消さないようにする\n        CKEDITOR.dtd.$removeEmpty[\"i\"] = false;\n        // 空「span」タグを消さないようにする\n        CKEDITOR.dtd.$removeEmpty[\"span\"] = false;\n        if (editorEnterBr) {\n            CKEDITOR.config.enterMode = CKEDITOR.ENTER_BR;\n        }\n        // 複数入ることを前提に配列型に変更\n        if (typeof CKEDITOR.config.contentsCss === 'string') {\n            CKEDITOR.config.contentsCss = [CKEDITOR.config.contentsCss];\n        }\n        themeEditorCsses.map((css) => {\n            if (Array.isArray(CKEDITOR.config.contentsCss)) {\n                CKEDITOR.config.contentsCss.push(css);\n            }\n        });\n        CKEDITOR[ckeditorField] = CKEDITOR.replace(editorDomId, editorOptions);\n        CKEDITOR[ckeditorField].on('pluginsLoaded', function(event) {\n            if (editorUseDraft) {\n                if (draftAreaId) {\n                    CKEDITOR[ckeditorField].draftDraftAreaId = draftAreaId;\n                }\n                if (publishAreaId) {\n                    CKEDITOR[ckeditorField].draftPublishAreaId = publishAreaId;\n                }\n                if (editorReadonlyPublish) {\n                    CKEDITOR[ckeditorField].draftReadOnlyPublish = true;\n                }\n            }\n        });\n        if (editorUseDraft) {\n            CKEDITOR[ckeditorField].on('instanceReady', function(event) {\n                if (editorDisableDraft) {\n                    CKEDITOR[ckeditorField].execCommand('changePublish');\n                    CKEDITOR[ckeditorField].execCommand('disableDraft');\n                }\n                if (editorDisablePublish) {\n                    CKEDITOR[ckeditorField].execCommand('changeDraft');\n                    CKEDITOR[ckeditorField].execCommand('disablePublish');\n                }\n                CKEDITOR[ckeditorField].on('beforeCommandExec', function( ev ){\n                    if(ev.data.name === 'changePublish' || ev.data.name === 'copyPublish') {\n                        $(`#DraftMode${fieldCamelize}`).val('publish');\n                    } else if(ev.data.name === 'changeDraft' || ev.data.name === 'copyDraft') {\n                        $(`#DraftMode${fieldCamelize}`).val('draft');\n                    }\n                });\n            });\n        }\n        CKEDITOR[ckeditorField].on('instanceReady', function(event) {\n            if(CKEDITOR[ckeditorField].getCommand('maximize').uiItems.length > 0) {\n                // ツールバーの表示を切り替え\n                CKEDITOR[ckeditorField].getCommand('maximize').on( 'state' ,\n                (e) => {\n                    if(this.state == 1) {\n                        $(\"#ToolBar\").hide();\n                    } else {\n                        $(\"#ToolBar\").show();\n                    }\n                });\n            }\n        });\n    });\n});\n"],"names":["window","addEventListener","editorEnterBr","parseInt","editorUseDraft","Boolean","editorReadonlyPublish","editorDisableDraft","editorDisablePublish","initStatus","styleInitStatus","$","CKEDITOR","addStylesSet","initialStyle","editorStyle","editorStylesSet","map","editor","key","editorUrl","config","templates_files","allowedContent","extraPlugins","stylesCombo_stylesSet","protectedSource","push","dtd","$removeEmpty","enterMode","ENTER_BR","contentsCss","themeEditorCsses","css","Array","isArray","ckeditorField","replace","editorDomId","editorOptions","on","event","draftAreaId","draftDraftAreaId","publishAreaId","draftPublishAreaId","draftReadOnlyPublish","execCommand","ev","data","name","fieldCamelize","val","getCommand","uiItems","length","e","state","hide","show"],"sourceRoot":""}