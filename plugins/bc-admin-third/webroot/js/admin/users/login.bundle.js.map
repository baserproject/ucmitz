{"version":3,"file":"admin/users/login.bundle.js","mappings":";;;;;;;;;m5BAUAA,GAAE,WAEE,IAAIC,EAAeD,EAAE,iBAErBA,EAAE,aAAaE,OAAM,WA0BjB,OAzBAF,EAAEG,OAAOC,aACTH,EAAaI,UACbL,EAAEM,MAAMC,MACJP,EAAE,UAAUQ,MACZR,EAAE,aAAaQ,MACfR,EAAE,UAAUS,KAAK,YACjB,SAASC,GACL,IACIC,EADQC,mBAAmBC,SAASC,QAAQC,QAAQ,IAAK,IAAIC,MAAM,KAEjEC,SAAQ,SAASC,GACnB,QAAmBA,EAAEF,MAAM,KAA3B,GAAKG,EAAL,KAAUC,EAAV,KACW,aAARD,IACCR,EAAWS,EAElB,IAEGP,SAASQ,KADVV,GAGiBD,EAASC,QAEhC,IAAE,WACCV,EAAaqB,SACbtB,EAAEG,OAAOoB,YACZ,KAEE,CACV,GAsFJ,G","sources":["webpack://bc-admin-third/./src/js/admin/users/login.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) NPO baser foundation <https://baserfoundation.org/>\n *\n * @copyright     Copyright (c) NPO baser foundation\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n$(function () {\n\n    let alertMessage = $(\"#AlertMessage\")\n\n    $(\"#BtnLogin\").click(function () {\n        $.bcUtil.showLoader()\n        alertMessage.fadeOut()\n        $.bcJwt.login(\n            $('#email').val(),\n            $('#password').val(),\n            $('#saved').prop('checked'),\n            function(response){\n                let query = decodeURIComponent(location.search).replace('?', '').split('&');\n                let redirect\n                query.forEach(function(v){\n                    let [key, value] = v.split('=')\n                    if(key === 'redirect') {\n                        redirect = value\n                    }\n                });\n                if(redirect) {\n                    location.href = redirect\n                } else {\n                    location.href = response.redirect\n                }\n            }, function(){\n                alertMessage.fadeIn()\n                $.bcUtil.hideLoader()\n            }\n        )\n        return false;\n    });\n\n    // TODO ucmitz 以下、未チェック\n    // if ($(\"#LoginCredit\").html() == 1) {\n    //     $(\"body\").hide();\n    // }\n    // $(\"body\").prepend($(\"#Login\"));\n    // changeNavi(\"#\" + $(\"#UserModel\").html() + \"Name\");\n    // changeNavi(\"#\" + $(\"#UserModel\").html() + \"Password\");\n    //\n    // $(\"#\" + $(\"#UserModel\").html() + \"Name,#\" + $(\"#UserModel\").html() + \"Password\").bind('keyup', function () {\n    //     if ($(this).val()) {\n    //         $(this).prev().hide();\n    //     } else {\n    //         $(this).prev().show();\n    //     }\n    // });\n    //\n    // $(\"#Login\").click(function () {\n    //     changeView(false);\n    // });\n    //\n    // $(\"#BtnLogin\").click(function () {\n    //     $.bcToken.setTokenUrl('/bc_form/ajax_get_token?requestview=false');\n    //     $(\"#BtnLogin\").attr('disabled', 'disabled');\n    //     $.bcToken.check(function () {\n    //         $(\"#UserLoginForm\").submit();\n    //     }, {loaderType: \"none\", useUpdate: false});\n    //     return false;\n    // });\n    //\n    // $(\"#LoginInner\").click(function (e) {\n    //     if (e && e.stopPropagation) {\n    //         e.stopPropagation();\n    //     } else {\n    //         window.event.cancelBubble = true;\n    //     }\n    // });\n    //\n    // if ($(\"#LoginCredit\").html() == 1) {\n    //     $(\"body\").append($(\"<div>&nbsp;</div>\").attr('id', 'Credit').show());\n    //     $(\"#LoginInner\").css('color', '#FFF');\n    //     $(\"#HeaderInner\").css('height', '50px');\n    //     $(\"#Logo\").css('position', 'absolute');\n    //     $(\"#Logo\").css('z-index', '10000');\n    //     changeView($(\"#LoginCredit\").html());\n    //     // 本体がない場合にフッターが上にあがってしまうので一旦消してから表示\n    //     $(\"body\").fadeIn(50);\n    // }\n    //\n    // function changeNavi(target) {\n    //     if ($(target).val()) {\n    //         $(target).prev().hide();\n    //     } else {\n    //         $(target).prev().show();\n    //     }\n    // }\n    //\n    // function changeView(creditOn) {\n    //     if (creditOn) {\n    //         credit();\n    //     } else {\n    //         openCredit();\n    //     }\n    // }\n    //\n    // function openCredit(completeHandler) {\n    //     if (!$(\"#Credit\").size()) {\n    //         return;\n    //     }\n    //     $(\"#LoginInner\").css('color', '#333');\n    //     $(\"#HeaderInner\").css('height', 'auto');\n    //     $(\"#Logo\").css('position', 'relative');\n    //     $(\"#Logo\").css('z-index', '0');\n    //     $(\"#Wrap\").css('height', '280px');\n    //     if (completeHandler) {\n    //         if ($(\"#Credit\").length) {\n    //             $(\"#Credit\").fadeOut(1000, completeHandler);\n    //         }\n    //         completeHandler();\n    //     } else {\n    //         if ($(\"#Credit\").length) {\n    //             $(\"#Credit\").fadeOut(1000);\n    //         }\n    //     }\n    // }\n});\n"],"names":["$","alertMessage","click","bcUtil","showLoader","fadeOut","bcJwt","login","val","prop","response","redirect","decodeURIComponent","location","search","replace","split","forEach","v","key","value","href","fadeIn","hideLoader"],"sourceRoot":""}