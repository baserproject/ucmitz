{"version":3,"file":"admin/search_indexes/index.bundle.js","mappings":";;;;;;;;;AAWAA,GAAE,WAKEA,EAAEC,QAAQC,KAAK,CACXC,SAAUH,EAAEI,OAAOC,WAATL,8CAMdA,EAAE,aAAaM,QAAO,WAClB,IAAIC,EAAKC,KAAKD,GAAGE,QAAQ,wBAAyB,IAC9CC,EAAWV,EAAEQ,MAAMG,MACvBX,EAAEY,QAAQC,OAAM,WACZ,OAAOb,EAAEc,KAAK,CACVC,KAAM,OACNC,IAAKhB,EAAEI,OAAOC,WAATL,kDAA+EO,EAAK,QACzFU,QAAS,CACL,cAAiBjB,EAAEkB,MAAMC,aAE7BC,KAAM,CACF,SAAYV,EACZ,cAAeV,EAAEY,QAAQS,KAE7BC,WAAY,WACRtB,EAAEI,OAAOmB,cACTvB,EAAEI,OAAOoB,WAAW,QAAS,yBAA2BjB,EAAI,8BAChE,EACAkB,QAAS,SAAUC,GACVA,GACD1B,EAAEI,OAAOuB,iBAAiB,kBAElC,EACAC,MAAO,WACH5B,EAAEI,OAAOuB,iBAAiB,kBAAmC,EACjEE,SAAU,WACN7B,EAAEI,OAAO0B,WAAW,QAAS,yBAA2BvB,EAAI,8BAChE,GAER,GACJ,IAKAP,EAAE,YAAYM,QAAO,WACjBN,EAAEc,KAAK,CACHE,IAAKhB,EAAEI,OAAOC,WAATL,+CAA4EA,EAAEQ,MAAMG,MAAQ,QACjGM,QAAS,CACL,cAAiBjB,EAAEkB,MAAMC,aAE7BJ,KAAM,MACNgB,SAAU,OACVT,WAAY,WACRtB,EAAEI,OAAOoB,WAAW,QAAS,aAAc,oBAC3CxB,EAAE,cAAcgC,KAAK,YAAY,EACrC,EACAH,SAAU,WACN7B,EAAE,cAAciC,WAAW,YAC3BjC,EAAEI,OAAO0B,WAAW,QAAS,aAAc,mBAC/C,EACAL,QAAS,SAAUC,GACf,IAAIQ,EAAWlC,EAAE,cACjBkC,EAASC,QACT,IAAIC,EAAc,GAElB,IAAKf,OADLe,EAAYC,KAAK,IAAIC,OAAO,OAAQ,KACxBZ,EAAOa,KACfH,EAAYC,KAAK,IAAIC,OAAOZ,EAAOa,KAAKlB,KAAKZ,QAAQ,UAAW,KAAWY,MAE/Ea,EAASM,OAAOJ,EACpB,GAER,GACJ","sources":["webpack://bc-admin-third/./src/js/admin/search_indexes/index.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Permission Community <https://basercms.net/community/>\n *\n * @copyright     Copyright (c) baserCMS Permission Community\n * @link          https://basercms.net baserCMS Project\n * @since         5.0.0\n * @license       https://basercms.net/license/index.html MIT License\n */\n\n\n$(function () {\n\n    /**\n     * 一括処理実装\n     */\n    $.bcBatch.init({\n        batchUrl: $.bcUtil.apiBaseUrl + 'bc-search-index' + '/search_indexes/batch.json',\n    });\n\n    /**\n     * 優先度変更\n     */\n    $(\".priority\").change(function () {\n        var id = this.id.replace('searchindex-priority-', '');\n        var priority = $(this).val();\n        $.bcToken.check(function () {\n            return $.ajax({\n                type: \"POST\",\n                url: $.bcUtil.apiBaseUrl + 'bc-search-index' + '/search_indexes/change_priority/' + id + '.json',\n                headers: {\n                    \"Authorization\": $.bcJwt.accessToken,\n                },\n                data: {\n                    'priority': priority,\n                    '_Token[key]': $.bcToken.key\n                },\n                beforeSend: function () {\n                    $.bcUtil.hideMessage();\n                    $.bcUtil.showLoader('after', '#searchindex-priority-' + id, 'searchindex-priority-loader');\n                },\n                success: function (result) {\n                    if (!result) {\n                        $.bcUtil.showAlertMessage('処理中にエラーが発生しました。');\n                    }\n                },\n                error: function () {\n                    $.bcUtil.showAlertMessage('処理中にエラーが発生しました。');                },\n                complete: function () {\n                    $.bcUtil.hideLoader('after', '#searchindex-priority-' + id, 'searchindex-priority-loader');\n                }\n            });\n        });\n    });\n\n    /**\n     * サイト更新\n     */\n    $(\"#site-id\").change(function () {\n        $.ajax({\n            url: $.bcUtil.apiBaseUrl + 'baser-core' + '/contents/get_content_folder_list/' + $(this).val() + '.json',\n            headers: {\n                \"Authorization\": $.bcJwt.accessToken,\n            },\n            type: \"GET\",\n            dataType: \"json\",\n            beforeSend: function () {\n                $.bcUtil.showLoader('after', '#folder-id', 'folder-id-loader');\n                $(\"#folder-id\").prop('disabled', true);\n            },\n            complete: function () {\n                $(\"#folder-id\").removeAttr(\"disabled\");\n                $.bcUtil.hideLoader('after', '#folder-id', 'folder-id-loader');\n            },\n            success: function (result) {\n                let folderId = $(\"#folder-id\");\n                folderId.empty();\n                var optionItems = [];\n                optionItems.push(new Option(\"指定なし\", \"\"));\n                for (key in result.list) {\n                    optionItems.push(new Option(result.list[key].replace(/&nbsp;/g, \"\\u00a0\"), key));\n                }\n                folderId.append(optionItems);\n            }\n        });\n    });\n});\n"],"names":["$","bcBatch","init","batchUrl","bcUtil","apiBaseUrl","change","id","this","replace","priority","val","bcToken","check","ajax","type","url","headers","bcJwt","accessToken","data","key","beforeSend","hideMessage","showLoader","success","result","showAlertMessage","error","complete","hideLoader","dataType","prop","removeAttr","folderId","empty","optionItems","push","Option","list","append"],"sourceRoot":""}