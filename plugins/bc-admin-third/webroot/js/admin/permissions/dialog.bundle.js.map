{"version":3,"file":"admin/permissions/dialog.bundle.js","mappings":";AAeAA,GAAE,WAKEA,EAAE,sBAAsBC,OAAM,WAE1B,OADAD,EAAE,qBAAqBE,OAAO,SACvB,KAMX,IAAIC,EAAOH,EAAE,0BACbG,EAAKC,WACLD,EAAKE,QAAO,WACR,OAAO,KAMXL,EAAE,qBAAqBE,OAAO,CAC1BI,UAAU,EACVC,UAAU,EACVC,MAAO,OACPC,OAAO,EACPC,KAAM,SAAUC,EAAOC,GACnBZ,EAAE,gCAAgCa,QAAQC,SAE9CC,QAAS,CACLC,OAAQ,CACJC,KAAMC,OAAOC,aACblB,MAAO,WACHD,EAAEoB,MAAMlB,OAAO,WAGvBmB,KAAM,CACFJ,KAAMC,OAAOI,WACbrB,MAAO,WAEHE,EAAKE,SACAF,EAAKoB,SAEVvB,EAAEwB,QAAQC,OAAM,WACZ,OAAOzB,EAAE0B,KAAK,CACVC,IAAK3B,EAAE4B,OAAOC,WAAa,6BAC3BC,QAAS,CACL,cAAiB9B,EAAE+B,MAAMC,aAE7BC,KAAM,OACNC,KAAM/B,EAAKgC,YACXC,SAAU,OACVC,WAAY,WACRrC,EAAE4B,OAAOU,cACTtC,EAAE4B,OAAOW,gBAEdC,MAAK,SAAUC,GACdzC,EAAE4B,OAAOc,kBAAkBD,EAAOE,SAClC3C,EAAE,qBAAqBE,OAAO,YAC/B0C,MAAK,SAASC,EAAgBC,EAAYC,GACzC/C,EAAE4B,OAAOoB,cAAc9B,OAAO+B,wBAAyBJ,EAAgBE,MACxEG,QAAO,WACNlD,EAAE4B,OAAOuB,kBAEd,CAACA,YAAY","sources":["webpack://bc-admin-third/./webroot/js/src/admin/permissions/dialog.js"],"sourcesContent":["/**\n * baserCMS :  Based Website Development Project <https://basercms.net>\n * Copyright (c) baserCMS Users Community <https://basercms.net/community/>\n *\n * @copyright       Copyright (c) baserCMS Users Community\n * @link            https://basercms.net baserCMS Project\n * @since           baserCMS v 0.1.0\n * @license         https://basercms.net/license/index.html\n */\n\n/**\n * dialog\n * @checked\n * @noTodo\n */\n$(function () {\n\n    /**\n     * ダイアログを開く\n     */\n    $(\"#BtnMenuPermission\").click(function () {\n        $('#PermissionDialog').dialog('open');\n        return false;\n    });\n\n    /**\n     * バリデーション\n     */\n    let form = $(\"#PermissionAjaxAddForm\");\n    form.validate();\n    form.submit(function () {\n        return false\n    });\n\n    /**\n     * ダイアログを初期化\n     */\n    $(\"#PermissionDialog\").dialog({\n        bgiframe: true,\n        autoOpen: false,\n        width: 'auto',\n        modal: true,\n        open: function (event, ui) {\n            $(\"#PermissionAjaxAddForm input\").first().focus();\n        },\n        buttons: {\n            cancel: {\n                text: bcI18n.commonCancel,\n                click: function () {\n                    $(this).dialog('close');\n                }\n            },\n            save: {\n                text: bcI18n.commonSave,\n                click: function () {\n\n                    form.submit();\n                    if (!form.valid()) return;\n\n                    $.bcToken.check(function () {\n                        return $.ajax({\n                            url: $.bcUtil.apiBaseUrl + 'baser-core/permissions/add',\n                            headers: {\n                                \"Authorization\": $.bcJwt.accessToken,\n                            },\n                            type: 'POST',\n                            data: form.serialize(),\n                            dataType: 'json',\n                            beforeSend: function () {\n                                $.bcUtil.hideMessage();\n                                $.bcUtil.showLoader();\n                            },\n                        }).done(function (result) {\n                            $.bcUtil.showNoticeMessage(result.message);\n                            $(\"#PermissionDialog\").dialog('close');\n                        }).fail(function(XMLHttpRequest, textStatus, errorThrown) {\n                            $.bcUtil.showAjaxError(bcI18n.commonSaveFailedMessage, XMLHttpRequest, errorThrown);\n                        }).always(function(){\n                            $.bcUtil.hideLoader();\n                        });\n                    }, {hideLoader: false});\n\n                }\n            }\n        }\n    });\n});\n"],"names":["$","click","dialog","form","validate","submit","bgiframe","autoOpen","width","modal","open","event","ui","first","focus","buttons","cancel","text","bcI18n","commonCancel","this","save","commonSave","valid","bcToken","check","ajax","url","bcUtil","apiBaseUrl","headers","bcJwt","accessToken","type","data","serialize","dataType","beforeSend","hideMessage","showLoader","done","result","showNoticeMessage","message","fail","XMLHttpRequest","textStatus","errorThrown","showAjaxError","commonSaveFailedMessage","always","hideLoader"],"sourceRoot":""}