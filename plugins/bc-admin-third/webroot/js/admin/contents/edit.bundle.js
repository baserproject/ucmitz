!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}({12:function(e,t){
/**
 * baserCMS :  Based Website Development Project <https://basercms.net>
 * Copyright (c) baserCMS Users Community <https://basercms.net/community/>
 *
 * @copyright       Copyright (c) baserCMS Users Community
 * @link            https://basercms.net baserCMS Project
 * @since           baserCMS v 4.0.0
 * @license         https://basercms.net/license/index.html
 */
$((function(){window.setTimeout((function(){window.scrollTo(0,1)}),100);$("#AdminContentsEditScript").attr("data-fullurl");var e=$("#AdminContentsEditScript").attr("data-previewurl"),t=$.parseJSON($("#AdminContentsEditScript").attr("data-current")),n=$.parseJSON($("#AdminContentsEditScript").attr("data-settings"));$("form #ContentsFormTabs").tabs().show(),$("#BtnSave").click((function(){$.bcUtil.showLoader()})),$("#BtnPreview").click((function(){window.open("","preview");var t=$(this).parents("form"),n=t.attr("action"),i="default",o=e;return $("#ContentAliasId").val()&&(i="alias"),"draft"==$("#DraftModeContentsTmp").val()&&(i="draft"),o.match(/\?/)?o+="&preview="+i:o+="?preview="+i,t.attr("target","preview"),t.attr("action",o),t.submit(),t.attr("target","_self"),t.attr("action",n),$.get($.baseUrl()+"/bc_form/ajax_get_token?requestview=false",(function(e){$('input[name="_csrfToken"]').val(e)})),!1})),$("#BtnDelete").click((function(){var e=bcI18n.contentsEditConfirmMessage1;if($("#ContentAliasId").val()&&(e=bcI18n.contentsEditConfirmMessage2),confirm(e)){$("#BtnDelete").prop("disabled",!0),$.bcUtil.showLoader();var t=$(this).parents("form");t.attr("action",$.bcUtil.adminBaseUrl+"baser-core/contents/delete"),t.submit()}return!1})),$(".create-alias").click((function(){var e=$(this).attr("data-site-id"),n=$("#SiteDisplayName"+e).val(),i=$("#SiteTargetUrl"+e).val(),o={Content:{title:t.Content.name,plugin:t.Content.plugin,type:t.Content.type,site_id:e,alias_id:t.Content.id,entity_id:t.Content.entity_id,url:t.Content.url}};return confirm(bcI18n.contentsEditConfirmMessage3.sprintf(n))&&$.bcToken.check((function(){return $.ajax({url:$.bcUtil.apiBaseUrl+"baser-core/contents/exists_content_by_url",type:"POST",data:{data:{url:i},_Token:{key:$.bcToken.key}},beforeSend:function(){$.bcUtil.showLoader()},success:function(e){e?($.bcUtil.hideLoader(),$.bcUtil.showAlertMessage(bcI18n.contentsEditAlertMessage2)):($.bcToken.key=null,$.bcToken.check((function(){return $.ajax({url:$.baseUrl()+"/"+$.bcUtil.adminPrefix+"/contents/add/1",type:"POST",data:$.extend(o,{_Token:{key:$.bcToken.key}}),dataType:"json",beforeSend:function(){$("#Waiting").show()},success:function(e){$.bcUtil.showNoticeMessage(bcI18n.contentsEditInfoMessage1),location.href=$.baseUrl()+"/"+$.bcUtil.adminPrefix+"/contents/edit_alias/"+e.id},error:function(e,t,n){$.bcUtil.hideLoader(),$.bcUtil.showAlertMessage(bcI18n.contentsEditAlertMessage1),$.bcToken.key=null}})}),{useUpdate:!1,hideLoader:!1}))},error:function(e,t,n){$.bcUtil.hideLoader(),$.bcUtil.showAlertMessage(bcI18n.contentsEditAlertMessage1)}})}),{useUpdate:!1,hideLoader:!1}),!1})),$(".create-copy").click((function(){var e=$(this).attr("data-site-id"),i=$("#SiteDisplayName"+e).val(),o=$("#SiteTargetUrl"+e).val(),r={title:t.Content.title,siteId:e,parentId:t.Content.parent_id,contentId:t.Content.id,entityId:t.Content.entity_id,url:t.Content.url};return confirm(bcI18n.contentsEditConfirmMessage4.sprintf(i))&&$.bcToken.check((function(){return $.ajax({url:$.bcUtil.apiBaseUrl+"baser-core/contents/exists_content_by_url",type:"POST",data:{data:{url:o},_Token:{key:$.bcToken.key}},beforeSend:function(){$.bcUtil.showLoader()},success:function(e){e?($.bcUtil.hideLoader(),$.bcUtil.showAlertMessage(bcI18n.contentsEditAlertMessage3)):($.bcToken.key=null,$.bcToken.check((function(){return $.ajax({url:n[t.Content.type].url.copy,type:"POST",data:$.extend(r,{_Token:{key:$.bcToken.key}}),dataType:"json",beforeSend:function(){$("#Waiting").show()},success:function(e){$.bcUtil.showNoticeMessage(bcI18n.contentsEditInfoMessage2),location.href=n[t.Content.type].url.edit+"/"+e.entity_id},error:function(e,t,n){$.bcUtil.hideLoader(),$.bcToken.key=null,$.bcUtil.showAlertMessage(bcI18n.contentsEditAlertMessage4)}})}),{useUpdate:!1,hideLoader:!1}))},error:function(e,t,n){$.bcUtil.hideLoader(),$.bcUtil.showAlertMessage(bcI18n.contentsEditAlertMessage4)}})}),{useUpdate:!1,hideLoader:!1}),!1})),$("#ContentModifiedDate").val()||($("#ContentModifiedDateDate").val(getNowDate()),$("#ContentModifiedDateTime").val(getNowTime()))}))}});
//# sourceMappingURL=edit.bundle.js.map