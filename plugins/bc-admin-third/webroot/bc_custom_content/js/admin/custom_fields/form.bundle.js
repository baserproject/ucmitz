new Vue({el:"#AdminCustomFieldsForm",data:function(){var t=$("#AdminCustomFieldsFormScript");return{settings:JSON.parse(t.attr("data-setting")),entity:JSON.parse(t.attr("data-entity")),showRowDefaultValue:!1,showRowSource:!1,showRowText:!1,showRowCheck:!1,showRowRegex:!1,showRowPlaceholder:!1,showControlEmailConfirm:!1,showControlMaxFileSize:!1,showControlFileExt:!1,showControlSize:!1,showControlLine:!1,showControlMaxLength:!1,showControlAutoConvert:!1,showControlCounter:!1,showPreview:[],sourceMultiCheckbox:[],sourceRadio:[],sourceSelect:[]}},mounted:function(){this.initView()},computed:{arraySource:function(){if(!this.entity.source)return[];var t=this.entity.source.split("\n").map((function(t){return t.replace("\r","")}));return t.length&&""===t[0]?[]:t},arrayDefaultValue:function(){if(this.entity.default_value)return this.entity.default_value.replace("\r","").split("\n")},checkboxLabel:{get:function(){return this.entity.meta&&void 0!==this.entity.meta.BcCcCheckbox?this.entity.meta.BcCcCheckbox.label:""},set:function(t){this.entity.meta?void 0!==this.entity.meta.BcCcCheckbox?this.entity.meta.BcCcCheckbox.label=t:this.entity.meta.BcCcCheckbox={label:t}:this.entity.meta={BcCcCheckbox:{label:t}}}}},methods:{initView:function(){this.entity.validate||(this.entity.validate=[]),this.initByType(),this.initValidateOptionControls(),$preview=$("#CustomFieldPreview"),$preview.appendTo("body"),$(window).on("scroll",(function(){$(document).innerHeight()-$(window).innerHeight()<=$(window).scrollTop()?$preview.fadeOut(500):"none"===$preview.css("display")&&$preview.fadeIn(500)}))},hideAllOptionsRow:function(){this.showRowDefaultValue=!1,this.showRowSource=!1,this.showRowText=!1,this.showRowCheck=!1,this.showRowRegex=!1,this.showRowPlaceholder=!1},initByType:function(){var t=$("#type").val(),e=$("#RowMeta".concat(t));$(".bca-row-meta").hide(),e.length&&e.show();var i=this.settings[this.entity.type];void 0!==i?(this.initRow(i),this.initValidateControl(i),this.initPreview(this.entity.type,i)):this.hideAllOptionsRow()},initRow:function(t){void 0===t.useDefaultValue||!0===t.useDefaultValue?this.showRowDefaultValue=!0:(this.showRowDefaultValue=!1,this.entity.default_value=""),!0===t.useSource?this.showRowSource=!0:(this.showRowSource=!1,this.entity.source=""),!0===t.useSize||!0===t.useLines||!0===t.useMaxLength||!0===t.useCounter?this.showRowText=!0:this.showRowText=!1,!0===t.useSize?this.showControlSize=!0:(this.showControlSize=!1,this.entity.size=""),!0===t.useLine?this.showControlLine=!0:(this.showControlLine=!1,this.entity.line=""),!0===t.useMaxLength?this.showControlMaxLength=!0:(this.showControlMaxLength=!1,this.entity.max_length=""),!0===t.useAutoConvert?this.showControlAutoConvert=!0:(this.showControlAutoConvert=!1,this.entity.auto_convert=""),!0===t.useCounter?this.showControlCounter=!0:(this.showControlCounter=!1,this.entity.counter=!1),!0===t.useCheckRegex?this.showRowRegex=!0:(this.showRowRegex=!1,this.entity.regex="",this.entity.regex_error_message=""),!0===t.usePlaceholder?this.showRowPlaceholder=!0:(this.showRowPlaceholder=!1,this.entity.placeholder=""),!0===t.useCheckEmail||!0===t.useCheckEmailConfirm||!0===t.useCheckEmailConfirm||!0===t.useCheckNumber||!0===t.useCheckHankaku||!0===t.useCheckZenkakuKatakana||!0===t.useCheckZenkakuHiragana||!0===t.useCheckDatetime||!0===t.useCheckMaxFileSize||!0===t.useCheckFileExt?this.showRowCheck=!0:this.showRowCheck=!1},initPreview:function(t,e){this.showPreview.NonSupport=!1,Object.keys(this.settings).forEach((function(t){this.showPreview[t]=!1}),this),e.preview?this.showPreview[t]=!0:this.showPreview.NonSupport=!0},uncheckValidateControl:function(t){if(this.entity.validate){var e=this.entity.validate.indexOf(t);-1!==e&&this.entity.validate.splice(e,1)}},initValidateControl:function(t){!0===t.useCheckEmail?$("#validate-email").parent().show():($("#validate-email").parent().hide(),this.uncheckValidateControl("EMAIL")),!0===t.useCheckEmailConfirm?$("#validate-email_confirm").parent().show():($("#validate-email_confirm").parent().hide(),this.uncheckValidateControl("EMAIL_CONFIRM")),!0===t.useCheckNumber?$("#validate-number").parent().show():($("#validate-number").parent().hide(),this.uncheckValidateControl("NUMBER")),!0===t.useCheckHankaku?$("#validate-hankaku").parent().show():($("#validate-hankaku").parent().hide(),this.uncheckValidateControl("HANKAKU")),!0===t.useCheckZenkakuKatakana?$("#validate-zenkaku_katakana").parent().show():($("#validate-zenkaku_katakana").parent().hide(),this.uncheckValidateControl("ZENKAKU_KATAKANA")),!0===t.useCheckZenkakuHiragana?$("#validate-zenkaku_hiragana").parent().show():($("#validate-zenkaku_hiragana").parent().hide(),this.uncheckValidateControl("ZENKAKU_HIRAGANA")),!0===t.useCheckDatetime?$("#validate-datetime").parent().show():($("#validate-datetime").parent().hide(),this.uncheckValidateControl("DATETIME")),!0===t.useCheckMaxFileSize?$("#validate-max_file_size").parent().show():($("#validate-max_file_size").parent().hide(),this.uncheckValidateControl("MAX_FILE_SIZE")),!0===t.useCheckFileExt?$("#validate-file_ext").parent().show():($("#validate-file_ext").parent().hide(),this.uncheckValidateControl("FILE_EXT"))},initValidateOptionControls:function(){this.initEmailConfirm(),this.initMaxFileSize(),this.initFileExt()},initEmailConfirm:function(){null!==this.entity.validate&&void 0!==this.entity.validate&&(this.entity.validate.includes("EMAIL_CONFIRM")?this.showControlEmailConfirm=!0:(this.showControlEmailConfirm=!1,this.entity.meta&&void 0!==this.entity.meta.BcCustomContent&&(this.entity.meta.BcCustomContent.email_confirm="")))},initMaxFileSize:function(){null!==this.entity.validate&&void 0!==this.entity.validate&&(this.entity.validate.includes("MAX_FILE_SIZE")?($("#ControlMaxFileSize").show(),this.showControlMaxFileSize=!0):(this.showControlMaxFileSize=!1,this.entity.meta&&void 0!==this.entity.meta.BcCustomContent&&(this.entity.meta.BcCustomContent.max_file_size="")))},initFileExt:function(){null!==this.entity.validate&&void 0!==this.entity.validate&&(this.entity.validate.includes("FILE_EXT")?this.showControlFileExt=!0:(this.showControlFileExt=!1,this.entity.meta&&void 0!==this.entity.meta.BcCustomContent&&(this.entity.meta.BcCustomContent.file_ext="")))}}});
//# sourceMappingURL=form.bundle.js.map