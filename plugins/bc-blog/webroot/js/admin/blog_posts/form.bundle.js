/**
 * baserCMS :  Based Website Development Project <https://basercms.net>
 * Copyright (c) NPO baser foundation <https://baserfoundation.org/>
 *
 * @copyright     Copyright (c) NPO baser foundation
 * @link          https://basercms.net baserCMS Project
 * @since         5.0.0
 * @license       https://basercms.net/license/index.html MIT License
 */
$((function(){var e=$("#AdminBlogBLogPostsEditScript").attr("data-fullurl"),t=$("#AdminBlogBLogPostsEditScript").attr("data-previewurl");$("input[type=text]").each((function(){$(this).keypress((function(e){return!e.which||13!==e.which}))})),document.queryCommandSupported("copy")||$("#BtnCopyUrl").hide(),$("#BtnCopyUrl").click((function(){var t=$('<textarea style=" opacity:0; width:1px; height:1px; margin:0; padding:0; border-style: none;"/>');return t.text(e),$(this).after(t),t.select(),document.execCommand("copy"),t.remove(),!1})),$("#BtnPreview").click((function(){window.open("","preview");var e=$(this).parents("form"),o=e.attr("action"),a="default",r=t;return"draft"==$("#DraftModeDetailTmp").val()&&(a="draft"),r.match(/\?/)?r+="&preview="+a:r+="?preview="+a,e.attr("target","preview"),e.attr("action",r),e.submit(),e.attr("target","_self"),e.attr("action",o),$.get($.baseUrl()+"/bc_form/ajax_get_token?requestview=false",(function(e){$('input[name="_csrfToken"]').val(e)})),!1})),$("#BtnSave").click((function(){return $.bcUtil.showLoader(),"undefined"!=typeof editor_detail_tmp&&editor_detail_tmp.execCommand("synchronize"),$("#BlogPostMode").val("save"),$.bcToken.check((function(){$("#BlogPostForm").submit()}),{useUpdate:!1,hideLoader:!1}),!1})),$("#BlogTagName").keypress((function(e){return!(e.which&&13===e.which||e.keyCode&&13===e.keyCode)||($("#BtnAddBlogTag").click(),!1)})),$("#BtnAddBlogTag").click((function(){return!!$("#BlogTagName").val()&&($.bcToken.check((function(){return $.ajax({type:"POST",url:$("#AddTagUrl").html(),data:{"data[BlogTag][name]":$("#BlogTagName").val(),_csrfToken:$.bcToken.key},dataType:"html",beforeSend:function(){$("#BtnAddBlogTag").prop("disabled",!0),$("#TagLoader").show()},success:function(e){e?($("#BlogTags").append(e),$('input[name="data[BlogTag][BlogTag][]"]').last().prop("checked",!0),$("#BlogTagName").val("")):alert(bcI18n.alertMessage1)},error:function(){alert(bcI18n.alertMessage2)},complete:function(e,t){$("#BtnAddBlogTag").removeAttr("disabled"),$("#TagLoader").hide(),$("#BlogTags").effect("highlight",{},1500)}})}),{loaderType:"target",loaderSelector:"#TagLoader",hideLoader:!1}),!1)})),$("#BtnAddBlogCategory").click((function(){return $("#AddBlogCategoryForm").dialog({width:"auto",modal:!0,open:function(){$(this).css("overflow","visible"),$(this.parentNode).css("overflow","visible")},close:function(){$("#BlogCategoryTitle").val(""),$("#BlogCategoryName").val("")},buttons:{cancel:{text:bcI18n.commonCancel,click:function(){$(this).dialog("close")}},save:{text:bcI18n.commonSave,click:function(){var e=$('#AddBlogCategoryForm [name="data[BlogCategory][name]"]').val(),t=$('#AddBlogCategoryForm [name="data[BlogCategory][title]"]').val();return e||(e=t),$.bcToken.check((function(){return $.ajax({type:"POST",url:$("#AddBlogCategoryUrl").html(),data:{"data[BlogCategory][name]":e,"data[BlogCategory][title]":t,_csrfToken:$.bcToken.key},dataType:"script",beforeSend:function(){$("#BtnAddBlogCategory").prop("disabled",!0),$.bcUtil.showLoader()},success:function(e){e?($("#BlogPostBlogCategoryId").append($("<option />").val(e).html(t)),$("#BlogPostBlogCategoryId").val(e)):alert(bcI18n.alertMessage3),$("#AddBlogCategoryForm").dialog("close")},error:function(e,t){e.responseText?alert(bcI18n.alertMessage4+"\n\n"+e.responseText):alert(bcI18n.alertMessage5+"\n\n"+e.statusText)},complete:function(e,t){$("#BtnAddBlogCategory").removeAttr("disabled"),$.bcUtil.hideLoader(),$("#BlogPostBlogCategoryId").effect("highlight",{},1500)}})}),{hideLoader:!1}),!1}}}}),!1}))}));
//# sourceMappingURL=form.bundle.js.map